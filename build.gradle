plugins {
	id 'java'
	id("maven-publish") apply false


}

subprojects {
	apply plugin: "maven-publish"
	publishing {
		repositories {
			maven {
				name = "GitHubPackages"
				url = uri("https://maven.pkg.github.com/OWNER/REPOSITORY")
				credentials {
					username = project.findProperty("gpr.user") ?: System.getenv("USERNAME")
					password = project.findProperty("gpr.key") ?: System.getenv("PASSWORD")
				}
			}
		}
		publications {
			gpr(MavenPublication) {
				from(components.java)
			}
		}
	}
}

group = 'red.lixiang.tools'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '1.8'


allprojects {
	repositories {
		maven { url 'https://maven.aliyun.com/repository/public/' }
		maven { url 'https://maven.aliyun.com/repository/spring/'}
		mavenCentral()
	}
}


